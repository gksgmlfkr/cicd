<!DOCTYPE html>

<html layout:decorate="~{layout}"> <!-- layout.html 상속-->
<div layout:fragment="content">
  <div class='title_line'>
   사용자들의 운동 기록 분석
  </div>
  
  <aside class="aside_right">
    
  </aside>
  <div class="menu_line"></div>
  
<head>

        <script>
        function loadBarChart() {
            fetch('http://localhost:5000/full_analysis/bargraph')
                .then(response => response.blob())
                .then(blob => {
                    const url = URL.createObjectURL(blob);
                    const imgElement = document.getElementById('barChartImage');
                    imgElement.src = url;
                    imgElement.style.display = 'block'; 
                })
                .catch(error => console.error('Error loading bar chart:', error));
        }
        
         function loadScatterplot() {
        fetch('http://localhost:5000/full_analysis/scatterplot')
            .then(response => response.blob())
            .then(blob => {
                const url = URL.createObjectURL(blob);
                const imgElement = document.getElementById('scatterplotImage');
                imgElement.src = url;
                imgElement.style.display = 'block'; 
            })
            .catch(error => console.error('Error loading scatterplot:', error));
        }
   
       function loadLineChart() {
            fetch('http://localhost:5000/full_analysis/line')
                .then(response => response.blob())
                .then(blob => {
                    const url = URL.createObjectURL(blob);
                    const imgElement = document.getElementById('lineImage');
                    imgElement.src = url;
                    imgElement.style.display = 'block'; 
                })
                .catch(error => console.error('Error loading bar chart:', error));
        }
    </script>
    
    <meta charset="UTF-8">
    <title>Bar Chart</title>
     <style>
        .btn { display: inline-block; font-weight: 400; text-align: center; white-space: nowrap; vertical-align: middle; user-select: none; border: 1px solid transparent; padding: 0.375rem 0.75rem; font-size: 1rem; line-height: 1.5; border-radius: 0.25rem; transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; }
        .btn-primary { color: #fff; background-color: #007bff; border-color: #007bff; }
        .btn-primary:hover { color: #fff; background-color: #0056b3; border-color: #004085; }
        .user_data {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
       
        #barChartImage {
            display: none;
        }
        #scatterplotImage {
            display: none;
        }
          #lineImage {
            display: none;
        }
    </style>
</head>
<body>
  <div style="text-align: center">
    <h1>Bar Chart</h1>
    운동종류에 따른 선호도 
     </div>
    <img id="barChartImage" src="" alt="Bar Chart">
    <br>
    <div style="text-align: center">
    <button onclick="loadBarChart()" class="btn btn-danger" style="color: white;">Load Bar Chart</button>
    </div>
    <br>
     <div style="text-align: center">
    <h1>Scatterplot</h1>
    운동 강도에 따른 칼로리 소모의 연관성</div>
    <img id="scatterplotImage" src="" alt="scatterplot">
    <br>
     <div style="text-align: center">
    <button onclick="loadScatterplot()" class="btn btn-danger" style="color: white;">Load scatterplot</button>
     </div>
     <br>
     <div style="text-align: center">
    <h1>Line Chart</h1>
     운동기록수의 변화
    <img id="lineImage" src="" alt="line">
    <br>
    <button onclick="loadLineChart()" class="btn btn-danger" style="color: white;">Load line chart</button>
     </div>




    <div id="curve_chart" style="width: 900px; height: 500px"></div>
 
 
    
    
</body>

</html>